From 984c0ea97f649c869130a1ff099098e2b6f70aad Mon Sep 17 00:00:00 2001
From: Tim Lammens <tim.lammens@gmail.com>
Date: Thu, 11 Sep 2014 10:35:54 +0530
Subject: [PATCH 1/2] Fix memory leak in libio/wfileops.c do_ftell_wide [BZ
 #17370]

---
 libio/wfileops.c | 1 +
 3 files changed, 7 insertions(+), 1 deletion(-)

diff --git a/libio/wfileops.c b/libio/wfileops.c
index f123add..ebc06e8 100644
--- a/libio/wfileops.c
+++ b/libio/wfileops.c
@@ -711,6 +711,7 @@ do_ftell_wide (_IO_FILE *fp)
 		return WEOF;
 
 	      offset += outstop - out;
+	      free (out);
 	    }
 
 	  /* We don't trust _IO_read_end to represent the current file offset
-- 
2.1.2

