diff -up khtml/imload/decoders/gifloader.cpp.giflib khtml/imload/decoders/gifloader.cpp
--- khtml/imload/decoders/gifloader.cpp.giflib	2014-06-08 10:41:32.000000000 -0300
+++ khtml/imload/decoders/gifloader.cpp	2014-06-14 11:33:42.406279776 -0300
@@ -369,7 +369,7 @@ public:
         
         if (DGifSlurp(file) == GIF_ERROR)
         {
-            DGifCloseFile(file);
+            DGifCloseFile(file, NULL);
             return Error;
         }
         
@@ -378,7 +378,7 @@ public:
         if (file->ImageCount > 1) {
             // Verify it..
             if (!ImageManager::isAcceptableSize(file->SWidth, file->SHeight)) {
-                DGifCloseFile(file);
+                DGifCloseFile(file, NULL);
                 return Error;
             }
             notifyImageInfo(file->SWidth, file->SHeight);
@@ -390,7 +390,7 @@ public:
             //Extract colormap, geometry, so that we can create the frame
             SavedImage* curFrame = &file->SavedImages[frame];
             if (!ImageManager::isAcceptableSize(curFrame->ImageDesc.Width, curFrame->ImageDesc.Height)) {
-                DGifCloseFile(file);
+                DGifCloseFile(file, NULL);
                 return Error;
             }
         }
@@ -576,7 +576,7 @@ public:
             frame0->animProvider = new GIFAnimProvider(frame0, image, frameProps, bgColor);
         }
         
-        DGifCloseFile(file);
+        DGifCloseFile(file, NULL);
 
         return Done;
     }
